@{ Layout = "~/Views/Shared/_OmniusUserAppLayout.cshtml"; }@{ Dictionary<string, string> formState = (Dictionary<string, string>)ViewData["formState"]; }<div class="mozaicBootstrapPage"><div class="container"><div class="row"><div class="col-xs-12"><div class="clearfix"><h1 class="pull-left">Editing category: <span class="" id="Category_name">@(@"{var1}".Replace("{var1}", (ViewData.FirstOrDefault(v => v.Key.EndsWith("Category_name")).Value ?? "").ToString()))</span></h1></div><div class="panel panel-default" ><div class="panel-heading"><h3 class="panel-title">@(@"Info")</h3></div><div class="panel-body"><form class="form-horizontal" method="post"><div class="form-group"><label for="" class="col-sm-2">@(@"Name:")</label><div class="col-xs-12 col-sm-10"><input type="text" name="name_input" value="@(formState.ContainsKey("name_input") ? formState["name_input"] : (ViewData.ContainsKey("inputData_name_input") ? @ViewData["inputData_name_input"] : ""))" class="form-control" required="required" id="name_input" /></div></div><button type="submit" class="btn btn-lg btn-primary" name="button" value="edit_button" id="edit_button" >@(@"Edit")</button>@Html.AntiForgeryToken()</form></div></div><div class="panel panel-default" ><div class="panel-heading"><h3 class="panel-title">@(@"Employees")</h3></div><div class="panel-body"><form class="form-horizontal" method="post"><div class="form-group"><label for="" class="col-sm-2 mbe-active">@(@"Assign Employee:")</label><div class="col-xs-12 col-sm-10">
<select name="Employees_dropdown" class="form-control" id="Employees_dropdown">
    @(@"<option value="""">-- Select Employee --</option>")
    @{ if(ViewData["dropdownData_Employees_dropdown"] != null) {
            foreach(var option in ((Dictionary<int, string>)ViewData["dropdownData_Employees_dropdown"])) {
                <option value="@(option.Key)" @((formState.ContainsKey("Employees_dropdown") && Convert.ToInt32(formState["Employees_dropdown"]) == option.Key) || (ViewData.ContainsKey("dropdownSelection_Employees_dropdown") && ViewData["dropdownSelection_Employees_dropdown"] is int && (int)ViewData["dropdownSelection_Employees_dropdown"] == option.Key) ? "selected" : "")>
                    @(option.Value)
                </option>
            }
        }
    }    
</select></div></div><button type="submit" class="btn btn-lg btn-primary" name="button" value="add_button" id="add_button" >@(@"Add")</button><h4 class="">@(@"Assigned Employees")</h4>
@{ if(ViewData.ContainsKey("tableData_Employee_table") && ((System.Data.DataTable)(ViewData["tableData_Employee_table"])).Rows.Count > 0) {
    <table class="table data-table no-footer dataTable" data-dtpaging="0" data-dtinfo="0" data-dtfilter="0" data-dtordering="1" data-dtcolumnfilter="1" data-dtserverside="0" id="Employee_table" role="grid" aria-describedby="Category_table_info" style="">
        <thead>
            <tr>
            @foreach (System.Data.DataColumn col in ((System.Data.DataTable)(ViewData["tableData_Employee_table"])).Columns) {
                <th>@col.Caption</th>
            }
                <th>Akce</th>
            </tr>
        </thead>
        <tfoot>
            <tr>@foreach (System.Data.DataColumn col in ((System.Data.DataTable)(ViewData["tableData_Employee_table"])).Columns) {
                <th>@col.Caption</th>
            }
                <th>Akce</th>
            </tr>
        </tfoot>
        <tbody>
        @foreach(System.Data.DataRow row in ((System.Data.DataTable)(ViewData["tableData_Employee_table"])).Rows) {
            <tr>@foreach (var cell in row.ItemArray) {
                <td>@cell.ToString()</td>
            }
                <td class="actionIcons"><i title="Delete" class="fa fa-remove" data-action="Delete" data-idparam="deleteId" data-confirm=""></i></td>
            </tr>
        }
        </tbody>
    </table>
} else {
    <div class="alert alert-info empty-table-label">Tabulka neobsahuje žádná data</div>
} }
<input type="hidden" name="Employee_table" />
@Html.AntiForgeryToken()</form></div></div></div></div></div></div>