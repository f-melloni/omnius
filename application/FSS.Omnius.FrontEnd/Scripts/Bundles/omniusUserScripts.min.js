function AjaxRunAndReplace(n,t,i){$.ajax({type:"POST",url:"/api/run"+n+"?button="+t,data:{modelId:i},error:console.error.bind(console),success:function(n){$.each(n,function(n,t){if($("select#uic_"+n).size()>0){var i="";$.each(t,function(n,t){i+='<option value="'+t.id+'">'+t.Name+"<\/option>"});$("select#uic_"+n).html(i)}else $("input#uic_"+n).size()>0&&$("input#uic_"+n).val(t)})}})}function ShowAppNotification(n,t){var t=t.toLowerCase()||"info",i;switch(t){case"success":icon="fa-check";break;case"error":icon="fa-exclamation-circle";break;case"warning":icon="fa-exclamation";break;case"info":default:t="info";icon="fa-info-circle"}i=$('<div class="app-alert app-alert-'+t+'"><i class="fa '+icon+' alertSymbol"><\/i><span><\/span><div class="fa fa-times closeAlertIcon"><\/div><\/div>');i.find("span").text(n);$("#appNotificationArea").append(i);$("#upperPanel, #lowerPanel, #minimizedUpperPanel, #userContentArea").css({top:"+="+i.outerHeight()+"px"});CurrentModuleIs("tapestryModule")?RecalculateToolboxHeight():CurrentModuleIs("mozaicEditorModule")&&RecalculateMozaicToolboxHeight();i.find(".closeAlertIcon").on("click",function(){$("#upperPanel, #lowerPanel, #minimizedUpperPanel, #userContentArea").css({top:"-="+i.outerHeight()+"px"});$(this).parents(".app-alert").remove();CurrentModuleIs("tapestryModule")?RecalculateToolboxHeight():CurrentModuleIs("mozaicEditorModule")&&RecalculateMozaicToolboxHeight()})}function dateTimePickerPreventWhenReadOnly(n,t){if(t.attr("readonly")!==undefined)return!1}function HidePanel(n){panel=$("#userContentArea").find('div[name="'+n+'"]');panel.is(":visible")&&(panelBottom=parseInt(panel.css("top"))+panel.height(),$(".mozaicForm > .uic").each(function(n,t){currentComponent=$(t);parseInt(currentComponent.css("top"))>panelBottom&&currentComponent.css("top",parseInt(currentComponent.css("top"))-panel.height())}),panel.hide())}function ShowPanel(n){panel=$("#userContentArea").find('div[name="'+n+'"]');panel.is(":visible")||(panel.show(),panelTop=parseInt(panel.css("top")),$(".mozaicForm > .uic").each(function(n,t){currentComponent=$(t);parseInt(currentComponent.css("top"))>panelTop&&currentComponent.css("top",parseInt(currentComponent.css("top"))+panel.height())}))}function ClonePanel(n){firstPanel=$("#userContentArea").find('div[name="'+n+'"]:first');lastPanel=$("#userContentArea").find('div[name="'+n+'"]:last');panelCount=$("#userContentArea").find('div[name="'+n+'"]').length;panelBottom=parseInt(lastPanel.css("top"))+lastPanel.height();$(".mozaicForm > .uic").each(function(n,t){currentComponent=$(t);parseInt(currentComponent.css("top"))>panelBottom&&currentComponent.css("top",parseInt(currentComponent.css("top"))+lastPanel.height()+10)});newPanel=firstPanel.clone(!0);newPanel.find('.uic, .uic checkbox, .uic input[type="radio"]').each(function(n,t){currentComponent=$(t);componentName=currentComponent.attr("name");componentName&&currentComponent.attr("name","panelCopy"+panelCount+"_"+componentName);componentId=currentComponent.attr("id");componentId&&currentComponent.attr("id","panelCopy"+panelCount+"_"+componentId)});newPanel.append('<input type="hidden", name="panelCopy'+panelCount+'Marker" value="true">');firstPanel.parents(".mozaicForm").append(newPanel);newPanel.css("top",panelBottom+10);newPanel.find("input.input-single-line, textarea").each(function(n,t){$(t).val("")});newPanel.find('.uic[originalId="uic_pieces_textbox"]').val(1);newPanel.find(".uic.input-with-datepicker").each(function(n,t){datePicker=$(t);datePicker.off("focus");datePicker.off("keydown");datePicker.off("keyup");datePicker.off("keypress");datePicker.removeClass("hasDatepicker");datePicker.datepicker($.datepicker.regional.cs)});removePanelIcon=$('<div class="fa fa-remove removePanelIcon"><\/div>');newPanel.append(removePanelIcon);removePanelIcon.on("click",function(){panel=$(this).parents(".panel-component");panelBottom=parseInt(panel.css("top"))+panel.height();$(".mozaicForm > .uic").each(function(n,t){currentComponent=$(t);parseInt(currentComponent.css("top"))>panelBottom&&currentComponent.css("top",parseInt(currentComponent.css("top"))-panel.height()-10)});autosumTarget=null;panel.find(".uic.input-single-line").each(function(n,t){autosumTargetName=$(t).attr("writeSumInto");autosumTargetName&&(autosumTarget=$('.uic[name="'+autosumTargetName+'"]'),sourceInputName=$(t).attr("name"))});panel.remove();autosumTarget&&(sourceInputNameWithoutPrefix=sourceInputName.indexOf("_")==-1?sourceInputName:sourceInputName.substring(sourceInputName.indexOf("_")+1,sourceInputName.length),sum=0,$(".uic.input-single-line").each(function(n,t){inputName=$(t).attr("name");inputName.indexOf(sourceInputNameWithoutPrefix,inputName-sourceInputNameWithoutPrefix.length)!==-1&&(numericValue=parseInt($(t).val()),isNaN(numericValue)||(multiplierTextbox=$(t).parents(".panel-component").find('[originalId="uic_pieces_textbox"]'),sum+=multiplierTextbox&&!isNaN(multiplierTextbox.val())&&multiplierTextbox.val()>0?numericValue*multiplierTextbox.val():numericValue))}),targetTemplate=autosumTarget.attr("contentTemplate"),targetTemplate?autosumTarget.text(targetTemplate.replace("{{var1}}",sum)):autosumTarget.text(sum))})}function RecalculateAutosum(n){autosumTarget=null;n.find(".uic.input-single-line").each(function(n,t){autosumTargetName=$(t).attr("writeSumInto");autosumTargetName&&(autosumTarget=$('.uic[name="'+autosumTargetName+'"]'),sourceInputName=$(t).attr("name"))});autosumTarget&&(sourceInputNameWithoutPrefix=sourceInputName.indexOf("panelCopy")==-1?sourceInputName:sourceInputName.substring(sourceInputName.indexOf("_")+1,sourceInputName.length),sum=0,$(".uic.input-single-line").each(function(n,t){inputName=$(t).attr("name");inputName.indexOf(sourceInputNameWithoutPrefix,inputName-sourceInputNameWithoutPrefix.length)!==-1&&(numericValue=parseInt($(t).val()),isNaN(numericValue)||(multiplierTextbox=$(t).parents(".panel-component").find('[originalId="uic_pieces_textbox"]'),sum+=multiplierTextbox&&!isNaN(multiplierTextbox.val())&&multiplierTextbox.val()>0?numericValue*multiplierTextbox.val():numericValue))}),targetTemplate=autosumTarget.attr("contentTemplate"),targetTemplate?autosumTarget.text(targetTemplate.replace("{{var1}}",sum)):autosumTarget.text(sum))}function HideOption(n){n.parent("span.hiddenOption").length==0&&n.wrap('<span class="hiddenOption" />')}function ShowOption(n){n.parent("span.hiddenOption").length&&n.unwrap()}function GetUrlParameter(n){for(var u=decodeURIComponent(window.location.search.substring(1)),r=u.split("&"),t,i=0;i<r.length;i++)if(t=r[i].split("="),t[0]===n)return t[1]===undefined?!0:t[1]}function RecalculateMozaicFormHeight(){var t=$("#userContentArea .mozaicForm"),i=t.height(),r=t.find("> .panel-component"),n,u;r.sort(function(n,t){return $(n).position().top-$(t).position().top});n=null;u=0;r.each(function(t,i){var r=$(i);if(n!==null){var f=r.position().top,e=r.position().top+r.height(),o=n.position().top,u=parseInt(n.position().top+n.height());f<u+10&&r.css("top",u+10)}n=r});t.find("> .uic").each(function(n,t){currentUic=$(t);currentUic.position().top+currentUic.height()>i&&(i=currentUic.position().top+currentUic.height())});t.height(i+30)}function RecalculatePanelDimensions(n){var t=n.width(),i=n.hasClass("panelAutoHeight")?0:n.height();n.find(".uic, .dataTables_wrapper").each(function(r,u){currentUic=$(u);currentUic.position().left+currentUic.width()+30>t&&(n.hasClass("named-panel")&&currentUic.parent().css("overflow")!="visible"||(t=currentUic.position().left+currentUic.width()+30));currentUic.position().top+currentUic.height()+30>i&&(i=currentUic.position().top+currentUic.height()+30)});n.width(t);n.height(i)}function findGetParameter(n){var i=null,t=[];return location.search.substr(1).split("&").forEach(function(r){t=r.split("=");t[0]===n&&(i=decodeURIComponent(t[1]))}),i}function GetColumnSearchElementFor(n){return'<input type="text" placeholder="Search in &quot;'+n+'&quot;" />'}function getCollisions(n,t){var i=[];return n.parent().find(t).each(function(){!$(this).is(n)&&areColliding($(this),n)&&i.push($(this)[0])}),i}function areColliding(n,t){var i=n.position().top,r=n.position().left,u=n.width(),f=n.height(),e=t.position().top,o=t.position().left,c=t.width(),l=t.height(),s=Math.abs(o-r)<=u,h=Math.abs(e-i)<=f;return s&&h}function handleCollisions(){$(".appPanel").each(function(){var t=getCollisions($(this),".appPanel"),n=this;$.each(t,function(t,i){var r=i;areColliding($(r),$(n))&&($(r).position().top==$(n).position().top&&$(r).css("left",parseInt($(n).css("left"))+$(n).width()+40),$(r).position().left==$(n).position().left&&$(r).css("top",parseInt($(n).css("top"))+$(n).height()+40))})})}function CurrentModuleIs(n){return $("body").hasClass(n)?!0:!1}function CreateCzechDataTable(n,t){var r,u,f,i,e,o,s;if(featureSwitch=!t,r={},u=$("input#currentLocale").val(),u==""&&(u="cs"),r=u=="en"?{paging:featureSwitch,pageLength:50,lengthMenu:[[10,20,50,100,200,500,1e3,-1],[10,20,50,100,200,500,1e3,"Vše"]],info:featureSwitch,filter:featureSwitch,order:[[0,"desc"]],language:{decimal:"",emptyTable:"No data available in table",info:"Showing _START_ to _END_ of _TOTAL_ entries",infoEmpty:"Showing 0 to 0 of 0 entries",infoFiltered:"(filtered from _MAX_ total entries)",infoPostFix:"",thousands:",",lengthMenu:"Show _MENU_ entries",loadingRecords:"Loading...",processing:"Processing...",search:"Search:",zeroRecords:"No matching entries found",paginate:{first:"First",last:"Last",next:"Next",previous:"Previous"},aria:{sortAscending:": activate to sort column ascending",sortDescending:": activate to sort column descending"}}}:{paging:featureSwitch,pageLength:50,lengthMenu:[[10,20,50,100,200,500,1e3,-1],[10,20,50,100,200,500,1e3,"Vše"]],info:featureSwitch,filter:featureSwitch,order:[[0,"desc"]],language:{sEmptyTable:"Tabulka neobsahuje žádná data",sInfo:"Zobrazuji _START_ až _END_ z celkem _TOTAL_ záznamů",sInfoEmpty:"Zobrazuji 0 až 0 z 0 záznamů",sInfoFiltered:"(filtrováno z celkem _MAX_ záznamů)",sInfoPostFix:"",sInfoThousands:" ",sLengthMenu:"Zobraz záznamů _MENU_",sLoadingRecords:"Načítám...",sProcessing:"Provádím...",sSearch:"Hledat:",sZeroRecords:"Žádné záznamy nebyly nalezeny",oPaginate:{sFirst:"První",sLast:"Poslední",sNext:"Další",sPrevious:"Předchozí"},oAria:{sSortAscending:": aktivujte pro řazení sloupce vzestupně",sSortDescending:": aktivujte pro řazení sloupce sestupně"}}},n.attr("data-column-filter")!==undefined&&n.find("thead th:visible").each(function(){var n=$("<span class='column-filter-check'><\/span>"),t=$("<input type='checkbox' data-select-column='this' checked>");$(this).prepend(n);n.append(t);t.on("click",function(n){n.stopPropagation()})}),f=n.find("[data-item-selection='*']"),f.length==1){i=$(f[0]);e=n.find("[data-item-selection='row']");i.on("change",function(){i.is(":checked")?i.attr("title","Uncheck all"):i.attr("title","Check all");e.each(function(){$(this).prop("checked",i.is(":checked"));$(this).trigger("change")})});e.on("change",function(){$(this).is(":checked")?$(this).parent().parent().attr("data-row-selected",!0):$(this).parent().parent().removeAttr("data-row-selected");!i.is(":checked")&&$(this).is(":checked")&&(i.prop("checked",!0),i.attr("title","Uncheck all"))});if(n.attr("data-select-mode")==="row")n.find("tbody tr").on("click",function(n){if(!$(n.target).is("[data-item-selection='row']")){var t=$(this).find("[data-item-selection='row']");t.prop("checked",!t.is(":checked"));t.trigger("change")}});o=f.parent().index();r.columnDefs=[{orderable:!1,targets:o}];r.order=[[o+1,"desc"]]}s=n.DataTable(r)}function CreateColorPicker(n){n.spectrum({showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:"more",togglePaletteLessText:"less",color:"#f00",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]})}function RemoveDiacritics(n){return n.replace(/[^\u0000-\u007E]/g,function(n){return diacriticsMap[n]||n})}var pageSpinner,BootstrapUserInit,message,style,defaultDiacriticsRemovalMap,diacriticsMap,i,letters,j;$("body").on("click",".runAjax",function(n){n.preventDefault();AjaxRunAndReplace(window.location.pathname,$(this).val())});$(function(){var e,n,t,r,u,f,l,a,y,v,s,h;if($("#currentBlockName").val()=="Home"){function o(){$.ajax({dataType:"html",method:"POST",url:window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/api/run/Grid/Home?button=refresh",success:function(n){var t=JSON.parse(n).Data,r=t.MinerStatus[0].y+t.MinerStatus[1].y+t.MinerStatus[2].y,e=Math.round((t.MinerStatus[0].x+t.MinerStatus[1].x)*100)/100,o=Math.round((t.MinerStatus[0].x2+t.MinerStatus[1].x2)*100)/100,u,i,f;rigstatusdonut_graph_chart.series[0].setData(t.MinerStatus,!0);$("#numberOfWarnings").html("You have "+t.MinerStatus[1].y+" warnings to explore.");$("#numberOfRigs").html("Rigs in total "+r);$("#sys_hash").html(e+" GH/s");$("#sys_hash_xmr").html(o+" kH/s");$("#online_percent").html(Math.round(t.MinerStatus[0].y/r*1e4)/100+"%");$("#online_rigs").html(t.MinerStatus[0].y+" rigs");$("#online_ghs").html(t.MinerStatus[0].x+" GH/s");$("#online_ghs_xmr").html(t.MinerStatus[0].x2+" kH/s");$("#warning_percent").html(Math.round(t.MinerStatus[1].y/r*1e4)/100+"%");$("#warning_rigs").html(t.MinerStatus[1].y+" rigs");$("#warning_ghs").html(t.MinerStatus[1].x+" GH/s");$("#warning_ghs_xmr").html(t.MinerStatus[1].x2+" kH/s");$("#offline_percent").html(Math.round(t.MinerStatus[2].y/r*1e4)/100+"%");$("#offline_rigs").html(t.MinerStatus[2].y+" rigs");u=$("#modalWarnings div.modal-dialog div.modal-content div.modal-body ul");u.html("");$.each(t.RigsWarningMessages,function(n,t){u.append("<li><span>"+t+"<\/span><\/li>")});i=$("body").data("LastId-RigStatusHistory");(typeof i=="undefined"||i!=t.RigStatusHistory.id)&&($("body").data("LastId-RigStatusHistory",t.RigStatusHistory.id),testrigstatus_graph_chart.series[0].addPoint([t.RigStatusHistory.id,t.RigStatusHistory.value[0]],!0,!0),testrigstatus_graph_chart.series[1].addPoint([t.RigStatusHistory.id,t.RigStatusHistory.value[1]],!0,!0));i=$("body").data("LastId-ExpVsReal");(typeof i=="undefined"||i!=t.ExpVsReal.id)&&($("body").data("LastId-ExpVsReal",t.ExpVsReal.id),hc_actual_yield_graph_chart.series[0].addPoint([t.ExpVsReal.id,t.ExpVsReal.value[0]],!0,!0),hc_actual_yield_graph_chart.series[2].addPoint([t.ExpVsReal.id,t.ExpVsReal.value[1]],!0,!0));hc_rigs_consumption_graph_gauge.series[0].setData([t.Consum.rigs],!0);hc_aircondition_consumption_graph_gauge.series[0].setData([t.Consum.air],!0);i=$("body").data("LastId-consum");(typeof i=="undefined"||i!=t.Consum.history.id)&&($("body").data("LastId-consum",t.Consum.history.id),hc_modbus_history_graph_chart.series[0].addPoint([t.Consum.history.id,t.Consum.history.value[0]],!0,!0),hc_modbus_history_graph_chart.series[1].addPoint([t.Consum.history.id,t.Consum.history.value[1]],!0,!0));$("#earnings_amount").html(t.Earnings.day[0]);$("#yield_amount").html(t.Earnings.day[1]);$("#cost_amount").html(t.Earnings.day[2]);$("#elec_amount").html(t.Earnings.day[3]);$("#earnings_amount_weekly").html(t.Earnings.week[0]);$("#yield_amount_weekly").html(t.Earnings.week[1]);$("#cost_amount_weekly").html(t.Earnings.week[2]);$("#elec_amount_weekly").html(t.Earnings.week[3]);$("#earnings_amount_monthly").html(t.Earnings.month[0]);$("#yield_amount_monthly").html(t.Earnings.month[1]);$("#cost_amount_monthly").html(t.Earnings.month[2]);$("#elec_amount_monthly").html(t.Earnings.month[3]);transactionLine=function(n){return'<tr><td style="display:none">'+n.hidden_id+'<\/td><td style="display:none">'+n.hidden_add+'<\/td><td style="display:none">'+n.hidden_date+"<\/td><td>"+n.currency+"<\/td><td>"+n.amount+"<\/td><td>"+n.wallet+"<\/td><td>"+n.date+"<\/td><td>"+n.time+"<\/td><\/tr>"};f=$("#transaction_history_table tbody");f.html("");$.each(t.LastTransaction,function(n,t){f.append(transactionLine(t))});i=$("body").data("LastId-totalIncome");(typeof i=="undefined"||i!=t.TotalIncome.id)&&($("body").data("LastId-totalIncome",t.TotalIncome.id),totalbalancehistory_graph_chart.series[0].addPoint([t.TotalIncome.id,t.TotalIncome.value],!0,!0));$("#bitcoin_value").html("$"+t.ExchangeRates.btc.value);$("#bitcoin_change").html("$"+t.ExchangeRates.btc.change);$("#bitcoin_change_percent").html("&nbsp; ("+t.ExchangeRates.btc.percent+"%)");t.ExchangeRates.btc.change<0?$("#bitcoin_change").css("color","red"):$("#bitcoin_change").css("color","green");$("#ethereum_value").html("$"+t.ExchangeRates.eth.value);$("#ethereum_change").html("$"+t.ExchangeRates.eth.change);$("#ethereum_change_percent").html("&nbsp; ("+t.ExchangeRates.eth.percent+"%)");t.ExchangeRates.eth.change<0?$("#ethereum_change").css("color","red"):$("#ethereum_change").css("color","green");$("#zcash_value").html("$"+t.ExchangeRates.zec.value);$("#zcash_change").html("$"+t.ExchangeRates.zec.change);$("#zcash_change_percent").html("&nbsp; ("+t.ExchangeRates.zec.percent+"%)");t.ExchangeRates.zec.change<0?$("#zcash_change").css("color","red"):$("#zcash_change").css("color","green");$("#dcr_value").html("$"+t.ExchangeRates.dcr.value);$("#dcr_change").html("$"+t.ExchangeRates.dcr.change);$("#dcr_change_percent").html("&nbsp; ("+t.ExchangeRates.dcr.percent+"%)");t.ExchangeRates.dcr.change<0?$("#dcr_change").css("color","red"):$("#dcr_change").css("color","green");$("#ltc_value").html("$"+t.ExchangeRates.ltc.value);$("#ltc_change").html("$"+t.ExchangeRates.ltc.change);$("#ltc_change_percent").html("&nbsp; ("+t.ExchangeRates.ltc.percent+"%)");t.ExchangeRates.ltc.change<0?$("#ltc_change").css("color","red"):$("#ltc_change").css("color","green");$("#xmr_value").html("$"+t.ExchangeRates.xmr.value);$("#xmr_change").html("$"+t.ExchangeRates.xmr.change);$("#xmr_change_percent").html("&nbsp; ("+t.ExchangeRates.xmr.percent+"%)");t.ExchangeRates.xmr.change<0?$("#xmr_change").css("color","red"):$("#xmr_change").css("color","green");$("#music_value").html("$"+t.ExchangeRates.music.value);$("#music_change").html("$"+t.ExchangeRates.music.change);$("#music_change_percent").html("&nbsp; ("+t.ExchangeRates.music.percent+"%)");t.ExchangeRates.music.change<0?$("#music_change").css("color","red"):$("#music_change").css("color","green")}})}setInterval(o,2e4);$("body").on("click","div.panel-heading",function(){var t=$(this).parent().find(".panel-body").attr("id"),n=!1;$(this).hasClass("collapsed")&&(n=!0);$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button=total_yield",data:{PanelName:t,TargetState:n},error:console.error.bind(console),complete:function(){},success:function(){}})});$("#ethereum_change").text()[1]=="-"?$("#ethereum_change").css("color","red"):$("#ethereum_change").css("color","green");$("#bitcoin_change").text()[1]=="-"?$("#bitcoin_change").css("color","red"):$("#bitcoin_change").css("color","green");$("#zcash_change").text()[1]=="-"?$("#zcash_change").css("color","red"):$("#zcash_change").css("color","green");$("#dcr_change").text()[1]=="-"?$("#dcr_change").css("color","red"):$("#dcr_change").css("color","green");$("#ltc_change").text()[1]=="-"?$("#ltc_change").css("color","red"):$("#ltc_change").css("color","green");$("#xmr_change").text()[1]=="-"?$("#xmr_change").css("color","red"):$("#xmr_change").css("color","green");$("#music_change").text()[1]=="-"?$("#music_change").css("color","red"):$("#music_change").css("color","green")}if($("#currentBlockName").val()=="ServiceStatus"){function o(){$.ajax({dataType:"html",url:window.location.href,success:function(n){var t=$(n);$("#performance_div").html(t.find("#performance_div").html());$("#divCam").html(t.find("#divCam").html());$("#containerConsump").html(t.find("#containerConsump").html());$("#containerWarnings").html(t.find("#containerWarnings").html());setTimeout(function(){o()},1e4)}})}o();$(document).on("click",".rig-placement td",function(){var n=$(this).data("RigId");if(!n)return!1;$("#header").html("");$("#gpuTempGraphModal").html("");$("#gpu-table").html("");$("#messages").html("");$("#MessageWindow").html("");$("#preloader").css("display","block");$.ajax({dataType:"html",url:"/Grid/RigHistoryMessages?modelId="+n,success:function(t){var i=$(t);$("#preloader").css("display","none");$("#header").html(i.find("#HeadingText").html());$("#gpuTempGraphModal").html(i.find("#gpuTempGraph").html());$("#gpu-table").html(i.find("#gpuStatus").html());$("#messages").html(i.find("#Messages").html());$("#MessageWindow").html(i.find("#MessageWindow").html());$("#RigIpForm").val($("#header").find("#Rig").text());$("#RigIpForm").data("RigId",n);$(".Gpu_table .status_column #status_span").each(function(){var n=$(this).text();n=="UP"?$(this).hide().parent().children("div.empty-element").css({"background-color":"green",display:"block"}):n=="DOWN"&&$(this).hide().parent().children("div.empty-element").css({"background-color":"red",display:"block"})})}})});e=function(){var n=$("#MessageWindow").find("#RigIpForm").data("RigId");$("#header").html("");$("#gpuTempGraphModal").html("");$("#gpu-table").html("");$("#messages").html("");$("#MessageWindow").html("");$("#preloader").css("display","block");$.ajax({dataType:"html",url:"/Grid/RigHistoryMessages?modelId="+n,success:function(t){var i=$(t);$("#preloader").css("display","none");$("#header").html(i.find("#HeadingText").html());$("#gpuTempGraphModal").html(i.find("#gpuTempGraph").html());$("#gpu-table").html(i.find("#gpuStatus").html());$("#messages").html(i.find("#Messages").html());$("#MessageWindow").html(i.find("#MessageWindow").html());$("#RigIpForm").val($("#header").find("#Rig").text());$("#RigIpForm").data("RigId",n)}})};$(document).on("click","#NewMessage",function(){var n=$("#rigHistoryMessage").val();$.ajax({type:"POST",url:"/api/run/Grid/"+$("#currentBlockName").val()+"/?button=NewMessage",data:{rigHistoryMessage:n,RigIpForm:$("#RigIpForm").val(),MessageId:$("#MessageId").val()},success:function(){e()}})});$(document).on("click","#btnStopRig",function(){var n=$("#rigHistoryMessage").val();$.ajax({type:"POST",url:"/api/run/Grid/"+$("#currentBlockName").val()+"/?button=btnStopRig",data:{rigHistoryMessage:n,RigIpForm:$("#RigIpForm").val()},success:function(){e()}})});$(document).on("click","#btnStartRig",function(){var n=$("#rigHistoryMessage").val();$.ajax({type:"POST",url:"/api/run/Grid/"+$("#currentBlockName").val()+"/?button=btnStartRig",data:{rigHistoryMessage:n,RigIpForm:$("#RigIpForm").val()},success:function(){e()}})});$(document).on("click","#btnRestartRig",function(){var n=$("#rigHistoryMessage").val(),t=new URL(window.location.href).searchParams.get("modelId");$.ajax({type:"POST",url:"/api/run/Grid/"+$("#currentBlockName").val()+"/?button=btnRestartRig",data:{rigHistoryMessage:n,RigIpForm:$("#RigIpForm").val(),ContainerId:t},success:function(){e();alert("Rig has been restarted")}})});$(document).on("click",".fa-pencil",function(){var t=$(this).attr("msgid"),n;$("#MessageId").val(t);n=$(this).parent().find(".reason-txt").html();$("#HiddenMessageTxt").html(n);$("#CancelMsg").css("display","block");$("#HiddenMessage").css("display","block")});$(document).on("click","#CancelMsg",function(){$("#MessageId").val("");$("#rigHistoryMessage").val("");$("#HiddenMessageTxt").html("");$("#HiddenMessage").css("display","none");$("#CancelMsg").css("display","none")})}if(n='<div class="spinner-3"> <div class="rect1"><\/div> <div class="rect2"><\/div> <div class="rect3"><\/div> <div class="rect4"><\/div> <div class="rect5"><\/div> <\/div>',($("#currentBlockName").val()=="VyjadreniKAuditu"||$("#currentBlockName").val()=="VracenoKPrepracovaniNadrizenym"||$("#currentBlockName").val()=="EditaceOpatreniVReseni"||$("#currentBlockName").val()=="VracenoKPrepracovaniAuditorem")&&setTimeout(function(){$("input.input-with-datepicker").datetimepicker("setOptions",{format:"d.m.Y",formatDate:"Y-m-d",allowDateRe:"^[0-9]{4}-(01|02|04|05|07|08|10|11)"})},100),$("#currentBlockName").val()=="VracenoKPrepracovaniNadrizenym"||$("#currentBlockName").val()=="VracenoKPrepracovaniAuditorem")$("[name=radio_agree]").on("change",function(){$(this).val()==="true"?($("[name=DUVOD_NESOUHLASU_textbox]").prop("readonly",!0),$("[name=NAPRAVNE_OPATRENI_textbox]").prop("readonly",!0),$("[name=TERMIN_REALIZACE_date]").prop("readonly",!0)):($("[name=DUVOD_NESOUHLASU_textbox]").prop("readonly",!1),$("[name=NAPRAVNE_OPATRENI_textbox]").prop("readonly",!1),$("[name=TERMIN_REALIZACE_date]").prop("readonly",!1))});if($("#currentBlockName").val()=="VyjadreniKAuditu")$("[name=radio_agree]").on("change",function(){$(this).val()==="true"?($("[name=DUVOD_NESOUHLASU_textbox]").prop("readonly",!0),$("[name=NAPRAVNE_OPATRENI_textbox]").prop("readonly",!1),$("[name=TERMIN_REALIZACE_date]").prop("readonly",!1)):($("[name=DUVOD_NESOUHLASU_textbox]").prop("readonly",!1),$("[name=NAPRAVNE_OPATRENI_textbox]").prop("readonly",!0),$("[name=TERMIN_REALIZACE_date]").prop("readonly",!0))});if(($("#currentBlockName").val()=="NovySubjekt"||$("#currentBlockName").val()=="EditaceSubjektu")&&$("#Date_input").datetimepicker({datepicker:!0,timepicker:!1,format:"d.m.Y"}),$("#currentBlockName").val()=="EditaceAuditu"||$("#currentBlockName").val()=="EditaceAudituBezWf"||$("#currentBlockName").val()=="FollowUp"||$("#currentBlockName").val()=="NapravnaOpatreni"){t=$("#uic_dropMonthFrom");r=$("#uic_dropMonthTo");function c(n){switch(n){case 1:return"leden";case 2:return"únor";case 3:return"březen";case 4:return"duben";case 5:return"květen";case 6:return"červen";case 7:return"červenec";case 8:return"srpen";case 9:return"září";case 10:return"říjen";case 11:return"listopad";case 12:return"prosinec";default:return"nedefinováno"}}for(t.append('<option value="-1" selected><\/option>'),r.append('<option value="-1" selected><\/option>'),u=2017;u>=2010;u--)for(f=12;f>=1;f--)l="1."+f+"."+u,t.append('<option value="'+l+'">'+u+" "+c(f)+"<\/option>"),a=f==12?"1.1."+(u+1):"1."+(f+1)+"."+u,r.append('<option value="'+a+'">'+u+" "+c(f)+"<\/option>");$.fn.dataTable.ext.search.push(function(n,i){if(t.val()==null&&r.val()==null||t.val()==-1&&r.val()==-1)return!0;var u;return(($("#currentBlockName").val()=="EditaceAuditu"||$("#currentBlockName").val()=="EditaceAudituBezWf")&&(u=moment(i[7],"D.M.YYYY")),$("#currentBlockName").val()=="FollowUp"&&(u=moment(i[11],"D. M. YYYY H:mm:ss")),$("#currentBlockName").val()=="NapravnaOpatreni"&&(u=moment(i[12],"D. M. YYYY H:mm:ss")),t.val()!=-1&&r.val()!=-1)?moment(t.val(),"D.M.YYYY")<u&&u<moment(r.val(),"D.M.YYYY"):t.val()!=-1&&r.val()==-1?moment(t.val(),"D.M.YYYY")<u:t.val()==-1&&r.val()!=-1?u<moment(r.val(),"D.M.YYYY"):!1});$(document).on("change","#uic_dropMonthFrom",function(){$(".data-table").DataTable().draw()});$(document).on("change","#uic_dropMonthTo",function(){$(".data-table").DataTable().draw()})}if($("#currentBlockName").val()=="EditaceOpatreniVReseni")$("[name=STATUS_radio]").on("change",function(){$(this).val()==="realizovano"?($("[name=DUVOD_POSUNUTI_textbox]").prop("readonly",!0),$("[name=NT_REALIZACE_date]").prop("readonly",!0),$("[name=NT_REALIZACE_date]").attr("required",!1)):$(this).val()==="posunout_termin"?($("[name=DUVOD_POSUNUTI_textbox]").prop("readonly",!1),$("[name=NT_REALIZACE_date").prop("readonly",!1),$("[name=NT_REALIZACE_date]").attr("required",!0)):($("[name=DUVOD_POSUNUTI_textbox]").prop("readonly",!1),$("[name=NT_REALIZACE_date]").prop("readonly",!0),$("[name=NT_REALIZACE_date]").attr("required",!1))});if($("#currentBlockName").val()=="FormulaceDoporuceni")$("#uic_doporuc_button").click(function(){$("#uic_panel20").toggle("disabled")});else if($("#currentBlockName").val()=="ZadaniObjednavkyPeriodika"){$("#uic_address_dropdown").change(function(){var n=$("#uic_address_dropdown :selected");$("#uic_ship_to_textbox").val(n.text())});$("#uic_begin_dtpicker").val("01.01.2017");$("#uic_end_dtpicker").val("31.12.2017");y=$("#uic_user_select_dropdown");pageSpinner.show();$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button=user_select_label",data:{},error:console.error.bind(console),complete:function(){pageSpinner.hide()},success:function(n){if($("#uic_user_select_dropdown option[value != '-1']").remove(),$("#uic_user_select_dropdown").append('<option value="'+n.user.RweId+'">Za sebe<\/option>'),n.managers)for(i=0;i<n.managers.length;i++)$("#uic_user_select_dropdown").append('<option value="'+n.managers[i].manager_id+'">'+n.managers[i].manager_full_name+"<\/option>");$("#uic_user_select_dropdown").val(n.user.RweId);n.superior&&$("#uic_supperior_textbox").val(n.superior.DisplayName)}});$("body").on("change","#uic_user_select_dropdown",function(){var t=$(n).attr({id:"approver_select_dropdown_spinner"}).css({position:"absolute",top:$(this).position().top,left:$(this).position().left+$(this).outerWidth()}).insertAfter(this);$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button="+$(this).attr("name"),data:{targetId:$(this).val()},error:console.error.bind(console),complete:function(){t.remove()},success:function(n){$("#uic_subscriber_textbox").val(n.user[0].full_name);$("#uic_ns_textbox").val(n.user[0].kostl);$("#uic_company_textbox").val(n.user[0].Company);n.superior&&$("#uic_supperior_textbox").val(n.superior.DisplayName)}})});$("body").on("change","#uic_periodical_dropdown",function(){var t=$(n).attr({id:"approver_select_dropdown_spinner"}).css({position:"absolute",top:$(this).position().top,left:$(this).position().left+$(this).outerWidth()}).insertAfter(this);$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button="+$(this).attr("name"),data:{targetId:$(this).val(),userId:$("#uic_user_select_dropdown").val()?$("#uic_user_select_dropdown").val():0},error:console.error.bind(console),complete:function(){t.remove()},success:function(n){$("#uic_interval_dropdown option").each(function(t,i){option=$(i);option.attr("value")==n.periodical.id_periodical_interval?ShowOption(option):HideOption(option)});$("#uic_form_dropdown option").each(function(t,i){option=$(i);option.attr("value")==n.periodical.id_periodical_form?ShowOption(option):HideOption(option)});$("#uic_type_dropdown option").each(function(t,i){option=$(i);option.attr("value")==n.periodical.id_periodical_types?ShowOption(option):HideOption(option)});n.user[0]&&(n.periodical.id_periodical_form==1?$("#uic_ship_to_textbox").val(n.user[0].email):$("#uic_ship_to_textbox").val(n.user[0].stras+" "+n.user[0].hsnmr+", "+n.user[0].pstlz+" "+n.user[0].ort01));$('.uic[uicRole="price"]').val(n.periodical.tentatively_net_of_VAT10);$('.uic[uicRole="output"]').val(n.periodical.tentatively_net_of_VAT10*parseInt($('.uic[uicRole="count"]').val()))}})});$("body").on("change",'.uic[uicRole="count"]',function(){$('.uic[uicRole="output"]').val($('.uic[uicRole="price"]').val()*parseInt($('.uic[uicRole="count"]').val()))})}else if($("#currentBlockName").val()=="HromadnaObjednavkaProAsistentky"){$("#uic_approver_textbox").on("change",function(){var t=$(n).attr({id:"approver_select_dropdown_spinner"}).css({position:"absolute",top:$(this).position().top,left:$(this).position().left+$(this).outerWidth()}).insertAfter(this);$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button="+$(this).attr("name"),data:{SearchQuery:$(this).val()},error:console.error.bind(console),complete:function(){t.remove()},success:function(n){for($("#uic_approver_select_dropdown option[value != '-1']").remove(),i=0;i<n.UserList.length;i++)currentUser=n.UserList[i],$("#uic_approver_select_dropdown").append('<option value="'+currentUser.id+'">'+currentUser.vorna+" "+currentUser.nachn+"<\/option>")}})});$("#uic_approver_select_dropdown").on("change",function(){var t=$(n).attr({id:"approver_select_dropdown_spinner"}).css({position:"absolute",top:$(this).position().top,left:$(this).position().left+$(this).outerWidth()}).insertAfter(this);$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button="+$(this).attr("name"),data:{targetId:$(this).val()},error:console.error.bind(console),complete:function(){t.remove()},success:function(n){$("#uic_occupation_select_dropdown option[value != '-1']").remove();n.user.length>0&&$("#uic_occupation_select_dropdown").append('<option value="'+n.user[0].JobObjid+'">'+n.user[0].Job+"<\/option>")}})});$(".dropdown-select").on("change",function(){var t;$(this).attr("originalId")=="uic_periodical_dropdown"?(t=$(n).attr({id:"approver_select_dropdown_spinner"}).css({position:"absolute",top:$(this).position().top,left:$(this).position().left+$(this).outerWidth()}).insertAfter(this),panel=$(this).parents(".uic.panel-component"),dropdownName=$(this).attr("name"),dropdownName.startsWith("panelCopy")&&(dropdownName=dropdownName.substring(dropdownName.indexOf("_")+1,dropdownName.length)),$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button="+dropdownName,data:{targetId:$(this).val(),userId:panel.find('[originalId="uic_subscriber_name_select_dropdown"]').val()?panel.find('[originalId="uic_subscriber_name_select_dropdown"]').val():0},error:console.error.bind(console),complete:function(){t.remove()},success:function(n){panel.find('[originalId="uic_interval_dropdown"] option').each(function(t,i){option=$(i);option.attr("value")==n.periodical.id_periodical_interval?ShowOption(option):HideOption(option)});panel.find('[originalId="uic_form_dropdown"] option').each(function(t,i){option=$(i);option.attr("value")==n.periodical.id_periodical_form?ShowOption(option):HideOption(option)});panel.find('[originalId="uic_type_dropdown"] option').each(function(t,i){option=$(i);option.attr("value")==n.periodical.id_periodical_types?ShowOption(option):HideOption(option)});panel.find('[originalId="uic_prince_vat_10_textbox"]').val(n.periodical.tentatively_net_of_VAT10);RecalculateAutosum(panel);n.user[0]&&(n.periodical.id_periodical_form==1?panel.find('[originalId="uic_address_textbox"]').val(n.user[0].email):panel.find('[originalId="uic_address_textbox"]').val(n.user[0].stras+" "+n.user[0].hsnmr+", "+n.user[0].pstlz+" "+n.user[0].ort01))}})):$(this).attr("originalId")=="uic_subscriber_name_select_dropdown"&&this.value&&(t=$(n).attr({id:"approver_select_dropdown_spinner"}).css({position:"absolute",top:$(this).position().top,left:$(this).position().left+$(this).outerWidth()}).insertAfter(this),panel=$(this).parents(".uic.panel-component"),dropdownName=$(this).attr("name"),dropdownName.startsWith("panelCopy")&&(dropdownName=dropdownName.substring(dropdownName.indexOf("_")+1,dropdownName.length)),$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button=approver_select_dropdown",data:{targetId:$(this).val()},error:console.error.bind(console),complete:function(){t.remove()},success:function(n){var t=n.user[0];panel.find('.uic[originalId="uic_subscriber_occupation_select_dropdown"]').append('<option value="'+t.Job+'">'+t.Job+"<\/option>");panel.find('.uic[originalId="uic_function_textbox"]').val(t.Job);panel.find('.uic[originalId="uic_address_textbox"]').val(t.stras+" "+t.hsnmr+", "+t.pstlz+" "+t.ort01);panel.find('.uic[originalId="uic_company_textbox"]').val(t.Company);panel.find('.uic[originalId="uic_ns_textbox"]').val(t.kostl);panel.find('.uic[originalId="uic_subscriber_full_name_textbox"]').val(t.full_name)}}))});$("#uic_reciever_textbox").trackInputDone(function(){if($(this).attr("originalId")=="uic_reciever_textbox"){var t=$(n).attr({id:"approver_select_dropdown_spinner"}).css({position:"absolute",top:$(this).position().top,left:$(this).position().left+$(this).outerWidth()}).insertAfter(this);panel=$(this).parents(".uic.panel-component");dropdownName=$(this).attr("name");dropdownName.startsWith("panelCopy")&&(dropdownName=dropdownName.substring(dropdownName.indexOf("_")+1,dropdownName.length));$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button=approver_textbox",data:{SearchQuery:$(this).val()},error:console.error.bind(console),complete:function(){t.remove()},success:function(n){for(targetDropdown=panel.find('.uic[originalId="uic_subscriber_name_select_dropdown"]'),targetDropdown.find("option[value != '-1']").remove(),i=0;i<n.UserList.length;i++)currentUser=n.UserList[i],targetDropdown.append('<option value="'+currentUser.id+'">'+currentUser.vorna+" "+currentUser.nachn+"<\/option>")}})}})}else if($("#currentBlockName").val()=="SchvaleniObjednavkyPeriodika")$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button=periodical_textbox",data:{targetId:GetUrlParameter("modelId")},error:console.error.bind(console),success:function(n){$("#uic_periodical_textbox").val(n.PeriodicalName);$("#uic_interval_textbox").val(n.PeriodicalInterval);$("#uic_form_textbox").val(n.PeriodicalForm);$("#uic_type_textbox").val(n.PeriodicalType)}});else if($("#currentBlockName").val()=="EditaceObjednavky")$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button=periodical_textbox",data:{targetId:GetUrlParameter("modelId")},error:console.error.bind(console),success:function(n){dataRow=n.ViewData[0];$("#uic_periodical_textbox").val(dataRow.Periodikum);$("#uic_interval_textbox").val(dataRow["Četnost"]);$("#uic_form_textbox").val(dataRow.Forma);$("#uic_type_textbox").val(dataRow.Typ)}});else if($("#currentBlockName").val()=="SchvaleniHromadneObjednavky")v=GetUrlParameter("modelId"),s=$("#uic_order_table"),s.find("tbody tr").each(function(n,t){$(t).find("td:nth-child(2)").text()!=v&&$(t).remove()}),s.find("thead tr th:nth-child(2), tbody tr td:nth-child(2), tfoot tr th:nth-child(2)").hide();else if($("#currentBlockName").val()=="NovyZastupce"){$("#uic_user_textbox").on("change",function(){var t=$(n).attr({id:"user_textbox_spinner"}).css({position:"absolute",top:$(this).position().top,left:$(this).position().left+$(this).outerWidth()}).insertAfter(this);$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button=user_textbox",data:{SearchQuery:$(this).val()},error:console.error.bind(console),complete:function(){t.remove()},success:function(n){for($("#uic_select_user_dropdown option[value != '-1']").remove(),i=0;i<n.UserList.length;i++)currentUser=n.UserList[i],$("#uic_select_user_dropdown").append('<option value="'+currentUser.pernr+'">'+currentUser.vorna+" "+currentUser.nachn+"<\/option>")}})});$("#uic_deputy_textbox").on("change",function(){var t=$(n).attr({id:"deputy_textbox_spinner"}).css({position:"absolute",top:$(this).position().top,left:$(this).position().left+$(this).outerWidth()}).insertAfter(this);$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button=user_textbox",data:{SearchQuery:$(this).val()},error:console.error.bind(console),complete:function(){t.remove()},success:function(n){for($("#uic_select_deputy_dropdown option[value != '-1']").remove(),i=0;i<n.UserList.length;i++)currentUser=n.UserList[i],$("#uic_select_deputy_dropdown").append('<option value="'+currentUser.pernr+'">'+currentUser.vorna+" "+currentUser.nachn+"<\/option>")}})})}else if($("#currentBlockName").val()=="NovyAudit")$("#uic_company_dropdown").on("change",function(){$.ajax({type:"POST",url:"/api/run/"+$("#currentAppName").val()+"/"+$("#currentBlockName").val()+"/?button=company_dropdown",data:{id_company:$("#uic_company_dropdown option:selected").val()},error:console.error.bind(console),success:function(n){for($("#uic_ia_coordinator_dropdown option[value != '-1']").remove(),i=0;i<n.Coordinators.length;i++){var t=n.Coordinators[i];$("#uic_ia_coordinator_dropdown").append('<option value="'+t.id+'">'+t.name+"<\/option>")}}})});$("td:not(.actionIcons)").on("click",function(n){$(n.target).is(".rowEditAction")||$(this).parents("tr").find(".rowEditAction").trigger("click")});if($("#currentBlockName").val()=="FormulaceDoporuceni")$("#uic_zobrazit").on("click",function(){$("#uic_panel20").show()});if($("#currentBlockName").val()=="FormulaceDoporuceni")$("#uic_zavrit").on("click",function(){$("#uic_panel20").hide()});if($("#currentBlockName").val()=="FormulaceDoporuceni"){h=!1;$("#uic_btnVybratDoporuceni").on("click",function(){h==!1&&($("#uic_panel20").css({opacity:"100"}),$("#uic_panel20").toggle(),h=!0);$("#uic_panel20").toggle()});$("#uic_nadraz_doporuceni_table").find("tr").click(function(){var n=$(this).find("td:first").text();$("#uic_nadr_doporuc_label").val(n)})}$("#currentBlockName").val()=="NovyAudit"&&$("#uic_info").mouseover(function(){$("#uic_panel40 > div").show()});$("#currentBlockName").val()=="NovyAudit"&&$("#uic_info").mouseleave(function(){$("#uic_panel40 > div").hide()});$("#currentBlockName").val()=="NovyAuditBezWf"&&$("#uic_info2").mouseover(function(){$("#uic_panel23 > div").show()});$("#currentBlockName").val()=="NovyAuditBezWf"&&$("#uic_info2").mouseleave(function(){$("#uic_panel23 > div").hide()})});$(function(){$(document).on("click",".mozaicForm [data-ajax='true']",function(){pageSpinner.show();$(document).one("ajaxComplete",function(){pageSpinner.hide()})})});$(document).ready(function(){$("#logoutLink").click(function(){return $("#logoutForm").submit(),!1})});pageSpinner=function(){var t=!1,n=1;return{show:function(i){arguments.length||(i=1);i&&$(document.body).addClass("pageSpinnerShown");n+=i;t&&(console.log("page spinner shown %d times, %d total",i,n),console.trace())},hide:function(i){arguments.length||(i=1);n-=i;n||$(document.body).removeClass("pageSpinnerShown");t&&(console.log("page spinner hidden %d times, %d remaining",i,n),console.trace())}}}();$(function(){pageSpinner.hide();$(window).on("beforeunload",function(){typeof ignoreUnload=="undefined"||window.ignoreUnload==!1?pageSpinner.show():window.ignoreUnload=!1})});var ModalDialogArray=[],mozaicFormValidator,lastSubmenu=null,contentAreaTop=parseInt($("#userContentArea").css("top"));$(function(){currentBlockName=$("#currentBlockDisplayName").val();$("#appMenu li").each(function(n,t){menuLi=$(t);menuLi.text().trim()==currentBlockName&&menuLi.addClass("active")});$("#appMenu .menu-link").on("click",function(){var n=$(this).attr("data-menu-link-for");lastSubmenu==n?$("#"+n).toggle():($(".asMenuArea .submenu").hide(),$("#"+n).show());$(".submenu").is(":visible")?$("#userContentArea").css("top",$(".submenu").height()+contentAreaTop+"px"):$("#userContentArea").css("top",contentAreaTop+"px");lastSubmenu=n});$("#hideMenuIcon").on("click",function(){$(document.body).addClass("leftBarHidden")});$("#showMenuIcon").on("click",function(){$(document.body).removeClass("leftBarHidden")});$("#toggleMenuIcon").on("click",function(){$(".userBox").slideUp();$(".searchBox").slideUp();$(document.body).toggleClass("leftBarHidden")});if(CurrentModuleIs("appManagerModule")){$(".appPanel").each(function(){while($(this).collision(".appPanel").length>1)$(this).css({top:"+=120px"})});$(".appPanel").draggable({grid:[120,120],revert:"invalid",stop:function(){$(this).draggable("option","revert","invalid");$.ajax({type:"POST",url:"api/master/apps"+$(this).attr("data-target")+"/saveAppPosition",data:{positionX:$(this).css("left"),positionY:$(this).css("top")}})}});$(".appWorkspace").droppable({tolerance:"fit"});$(".appPanel").droppable({greedy:!0,tolerance:"touch",drop:function(n,t){t.draggable.draggable("option","revert",!0)}});$(".appPanel").bind("dragstart",function(n,t){t.originalPosition.top=$(this).position().top;t.originalPosition.left=$(this).position().left});$(".appPanel").on("dblclick",function(){window.location.href=$(this).attr("data-target")})}else CurrentModuleIs("helpModule")?($("#appManagerIcon").removeClass("activeIcon"),$("#helpIcon").addClass("activeIcon")):CurrentModuleIs("userDetailsModule")&&$("#appManagerIcon").removeClass("activeIcon");if($("#userLeftBar").length>0){$(".uic").each(function(n,t){$(t).attr("originalId",$(t).attr("Id"))});$(".uic > checkbox").each(function(n,t){$(t).prop("checked",!1)});$(".userBoxMinimized").click(function(){$(document.body).addClass("leftBarHidden");$(".searchBox").slideUp();$(".userBox").slideToggle()});$(".searchBoxMinimized").click(function(){$(document.body).addClass("leftBarHidden");$(".searchBox").slideToggle();$(".userBox").slideUp()});try{var t=$(".mozaicForm"),i=null;t.length>0&&(t=t.first(),i=t.find("[name=__RequestVerificationToken]").clone());function n(n,t,r,u){var f=$('<form class="hiddenForm" method="POST" action="'+window.location.href+'"><input type="hidden" name="modelId" value="'+t+'" /><input type="hidden" name="button" value="'+n+"_"+r+'" /><\/form>');Array.isArray(u)&&$.each(u,function(n,t){f.append(t)});i!==null&&f.append(i);f.appendTo("body").submit()}$(".uic.data-table").each(function(t,i){var r=$(i),e=parseInt(r.attr("uicWidth")),f,u;if(CreateCzechDataTable(r,r.hasClass("data-table-simple-mode")),wrapper=r.parents(".dataTables_wrapper"),wrapper.css("position","absolute"),wrapper.css("left",r.css("left")),wrapper.css("top",r.css("top")),wrapper.css("width",e),r.css("max-width",e),r.css("position","relative"),r.css("left","0px"),r.css("top","0px"),r.attr("data-item-population-target")!==undefined){f=$(r.attr("data-item-population-target"));$(r.find("[data-item-populator]")).on("click",function(n){var t=$(this).parent().parent().find("td:first-child").text();console.log("Selected row with id "+t);f.val(t);n.preventDefault();f.get(0).scrollIntoView()})}r.wrap("<div class='inner_wrapper'>");r.on("click",".rowEditAction",function(){var t=parseInt($(this).parents("tr").find("td:first").text()),i=r.attr("name");$(this).hasClass("fa-download")&&(window.ignoreUnload=!0);n(i,t,"EditAction")});r.on("click",".rowDetailsAction",function(){var t=parseInt($(this).parents("tr").find("td:first").text()),i=r.attr("name");n(i,t,"DetailsAction")});r.on("click",".rowDeleteAction",function(){if(confirm("Are you sure?")){rowId=parseInt($(this).parents("tr").find("td:first").text());var t=GetUrlParameter("modelId"),i=r.attr("name");n(i,t,"DeleteAction",[$('<input type="hidden" name="deleteId" value="'+rowId+'" />')])}});r.on("click",".row_A_Action",function(){var t=parseInt($(this).parents("tr").find("td:first").text()),i=r.attr("name");n(i,t,"A_Action")});r.on("click",".row_B_Action",function(){var t=parseInt($(this).parents("tr").find("td:first").text()),i=r.attr("name");n(i,t,"B_Action")});r.DataTable().on("draw",function(){var n=$(this);n.find("thead th").each(function(t,i){($(i).text()=="id"||$(i).text().indexOf=="hidden"||$(i).text().indexOf("hidden__")==0)&&n.find("td:nth-child("+(t+1)+"), th:nth-child("+(t+1)+")").hide()})});r.DataTable().draw();r.hasClass("data-table-simple-mode")||(r.find("tfoot th").each(function(){var n=$(this).text();n!="Akce"?$(this).html(GetColumnSearchElementFor(n)):$(this).html("")}),dataTable=r.DataTable(),dataTable.columns().eq(0).each(function(n){$("input, select",dataTable.column(n).footer()).on("keyup change",function(){dataTable.column(n).search(this.value).draw()})}),$("#currentBlockName").val()=="ZakladniReport"?(u=$("#currentUserName").val(),dataTable.order([1,"desc"]).column(9).search(u).draw(),r.find("tfoot th:nth-child(10) input").val(u)):$("#currentBlockName").val()=="ReportProAsistentky"?(u=$("#currentUserName").val(),dataTable.order([1,"desc"]).column(4).search(u).draw(),r.find("tfoot th:nth-child(5) input").val(u)):$("#currentBlockName").val()=="ReportProVedouciPracovniky"?(u=$("#currentUserName").val(),dataTable.order([1,"desc"]).column(4).search(u).draw(),r.find("tfoot th:nth-child(5) input").val(u)):$("#currentBlockName").val()=="NeaktivniUzivatele"&&dataTable.order([3,"desc"]).draw(),r.find("thead th").each(function(n,t){$(t).text()=="id"||$(t).text().indexOf("hidden__")==0?r.find("td:nth-child("+(n+1)+"), th:nth-child("+(n+1)+")").hide():$(t).text()=="Barva"&&(r.find("td:nth-child("+(n+1)+"), th:nth-child("+(n+1)+")").hide(),r.find("td:nth-child("+(n+1)+")").each(function(t,i){var r=$(i).text();$(i).parents("tr").find("td:nth-child("+(n+2)+")").prepend('<div class="colorRectangle" style="background-color:'+r+'"><\/div>')}))}))})}catch(r){console.log(r)}$.extend($.validator.methods,{auditNumber:function(n){return n.match(/^[0-9]{4} [PA] [0-9]{2,3}$/)}});$.extend($.validator.methods,{auditNumberNoWF:function(n){return n.match(/^[0-9]{4} [BCEFSZ] [0-9]{2,3}$/)}});$.extend($.validator.methods,{auditNumberNonWF:function(n){return n.match(/^[0-9]{4} C [0-9]{2,3}$/)}});$.extend($.validator.methods,{greaterThan:function(n,t,i){return this.optional(t)||+n>+i}});$.extend($.validator.methods,{greaterOrEqual:function(n,t,i){return this.optional(t)||+n>=+i}});$.extend($.validator.methods,{optionSelected:function(n,t,i){return $(t).attr("required")==undefined||+n!=+i}});jQuery.validator.addClassRules("dropdown-select",{optionSelected:-1});mozaicFormValidator=$(".mozaicForm").validate({errorLabelContainer:$("<div>"),ignore:"[readonly]",unhighlight:function(n){$(".uic[ignoredonvalidation]").addClass("cancel");$(n).removeClass("has-error");$("#"+n.id+"_validator").hide();this.numberOfInvalids()===0&&$(".uic.button-simple:not([ignoredonvalidation])").removeClass("looks-disabled")},highlight:function(n){$(".uic[ignoredonvalidation]").addClass("cancel");$(n).addClass("has-error");$("#"+n.id+"_validator").show();$(".uic.button-simple:not([ignoredonvalidation])").addClass("looks-disabled")}});$(".mozaicForm").length&&mozaicFormValidator.form();$(".uic.button-simple, .uic.button-dropdown").on("click",function(){$(".uic.data-table").each(function(n,t){var i,u,r;console.warn("Iterating over tables");i="";u=$(t).DataTable();u.rows({search:"applied"}).nodes().each(function(n){var t=$(n).find("th:first-child input[type=checkbox]");t.length>0?t.is(":checked")&&(i!==""&&(i+=","),i+=$(n).children()[1].innerText):(i!==""&&(i+=","),i+=$(n).children()[0].innerText)});tableName=$(t).attr("name");$('input[name="'+tableName+'"').val(i);r="";$(t).find("thead th:visible").each(function(){var n=$(this),t=n.find("input[type='checkbox']").is(":checked");console.log(n.attr("data-column-name"),t,n.find("input[type='checkbox']"));t&&(r!==""&&(r+=";"),r+=n.attr("data-column-name"))});$('input[name="'+tableName+"-column-filters").val(r)});this.value.indexOf("export")!==-1&&(window.ignoreUnload=!0)});$(".uic.input-with-datepicker").datetimepicker({datepicker:!0,timepicker:!1,format:"d.m.Y"});$(".uic.input-with-timepicker").datetimepicker({datepicker:!1,timepicker:!0,step:5,format:"H:i:00"});$(".uic.input-with-datetimepicker").datetimepicker({datepicker:!0,timepicker:!0,step:5,format:"d.m.Y H:i:00"});$(".uic.color-picker").each(function(n,t){newComponent=$(t);CreateColorPicker(newComponent);newReplacer=$("#userContentArea .sp-replacer:last");newReplacer.css("position","absolute");newReplacer.css("left",newComponent.css("left"));newReplacer.css("top",newComponent.css("top"));newComponent.removeClass("uic");newReplacer.addClass("uic color-picker");newReplacer.attr("uicClasses","color-picker");newReplacer.attr("uicName",newComponent.attr("uicName"))});$(".uic.countdown-component").each(function(n,t){var i=new Date;i.setTime(i.getTime()+3e5);$(t).countdown({until:i,format:"HMS"})});$(".uic.input-single-line").each(function(n,t){if(newComponent=$(t),autosumTargetName=newComponent.attr("writeSumInto"),autosumTargetName)newComponent.on("change",function(){autosumTargetName=$(this).attr("writeSumInto");autosumTarget=$('.uic[name="'+autosumTargetName+'"]');sourceInputName=$(this).attr("name");sourceInputNameWithoutPrefix=sourceInputName.indexOf("_")==-1?sourceInputName:sourceInputName.substring(sourceInputName.indexOf("_")+1,sourceInputName.length);sum=0;$(".uic.input-single-line").each(function(n,t){inputName=$(t).attr("name");inputName.indexOf(sourceInputNameWithoutPrefix,inputName-sourceInputNameWithoutPrefix.length)!==-1&&(numericValue=parseInt($(t).val()),isNaN(numericValue)||(multiplierTextbox=$(t).parents(".panel-component").find('[originalId="uic_pieces_textbox"]'),sum+=multiplierTextbox&&!isNaN(multiplierTextbox.val())&&multiplierTextbox.val()>0?numericValue*multiplierTextbox.val():numericValue))});autosumTarget=$('.uic[name="'+autosumTargetName+'"]');targetTemplate=autosumTarget.attr("contentTemplate");targetTemplate?autosumTarget.text(targetTemplate.replace("{{var1}}",sum)):autosumTarget.text(sum)})});$(".uic.input-single-line").on("change",function(){$(this).attr("originalId")=="uic_pieces_textbox"&&$(this).parents(".panel-component")&&RecalculateAutosum($(this).parents(".panel-component"))});$("#uic_item_count_textbox, #uic_pieces_textbox").val(1);$(".uic.panel-component").each(function(n,t){if(panel=$(t),hidingCheckboxName=panel.attr("panelHiddenBy"),hidingCheckboxName&&(hidingCheckbox=$('input[name="'+hidingCheckboxName+'"]'),hidingCheckbox)){hidingCheckbox.attr("panelToHide",panel.attr("name"));hidingCheckbox.prop("checked",!0);hidingCheckbox.on("change",function(){panelToHide=$(this).attr("panelToHide");$(this).is(":checked")?ShowPanel(panelToHide):HidePanel(panelToHide)})}if(cloningButtonName=panel.attr("panelClonedBy"),cloningButtonName&&(cloningButton=$('button[buttonName="'+cloningButtonName+'"]'),cloningButton)){cloningButton.attr("type","button");cloningButton.attr("panelToClone",panel.attr("name"));cloningButton.on("click",function(){panelToClone=$(this).attr("panelToClone");ClonePanel(panelToClone)})}});$(".uic.panel-component").each(function(n,t){RecalculatePanelDimensions($(t))});RecalculateMozaicFormHeight();$("#modalRepository .modalRepositoryItem").each(function(n,t){currentDialog=$(t);currentDialog.dialog({autoOpen:!1,width:370,height:320,buttons:{OK:function(){alert("TODO: Save");$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}}});ModalDialogArray.push(currentDialog)});notificationMessage=GetUrlParameter("message");notificationMessage&&(notificationType=GetUrlParameter("messageType"),ShowAppNotification(notificationMessage,notificationType))}});BootstrapUserInit={context:null,init:function(n){var t=BootstrapUserInit;t.context=n;$(t.context).on("keyup change",".data-table > tfoot input",t.DataTable.filter).on("click",".data-table i.fa[data-action]",t.DataTable.onAction).on("search.dt",".data-table",t.DataTable.onSearch).on("select.dt deselect.dt",".data-table",t.DataTable.onSearch);t.DataTable.init();t.loadValidators();$(".closeAlertIcon").on("click",function(){$(this).parents(".app-alert").remove();CurrentModuleIs("tapestryModule")?RecalculateToolboxHeight():CurrentModuleIs("mozaicEditorModule")&&RecalculateMozaicToolboxHeight()})},confirm:function(n,t,i,r){var u=$('<div class="modal fade" id="modalConfirm" tabindex="-1" role="dialog"><\/div>'),f=$('<div class="modal-dialog" role="document"><\/div>'),e=$('<div class="modal-content"><\/div>'),o=$('<div class="modal-header"><\/div>'),l=$('<button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close"><span aria-hidden="true">&times;<\/span><\/button>'),a=$('<h4 class="modal-title">Are you sure?<\/h4>'),v=$('<div class="modal-body">'+n+"<\/div>"),s=$('<div class="modal-footer"><\/div>'),h=$('<button type="button" class="btn btn-danger">Yes<\/button>'),c=$('<button type="button" class="btn btn-default">No<\/button>');u.append(f);f.append(e);e.append(o).append(v).append(s);o.append(l).append(a);s.append(c).append(h);h.click(function(){t.apply(r,[]);$("#modalConfirm").modal("hide")});c.click(function(){typeof i=="function"&&i.apply(r,[]);$("#modalConfirm").modal("hide")});u.appendTo("body");$("#modalConfirm").modal();$("#modalConfirm").on("hidden.bs.modal",function(){$("#modalConfirm").remove()})},DataTable:{init:function(){var n=BootstrapUserInit;$(".data-table",n.context).each(function(){var t=$(this);n.DataTable.initTable(t)})},initTable:function(n){if(n.data("dtselect")=="1"){n.find("thead tr").prepend("<th class='select-head'><input type='checkbox' id='selAll'><\/th>");n.find("tfoot tr").prepend("<th>Select All<\/th>");n.find("tbody tr").prepend("<td><\/td>");$("th.select-head > input[type='checkbox']").on("change",function(){var n=$("th.select-head > input[type='checkbox']").prop("checked");n?$(this).parents(".data-table").DataTable().rows().select():$(this).parents(".data-table").DataTable().rows().deselect()})}if(n.data("dtselect")=="1"){n.find("thead tr").prepend("<th class='select-head'><input type='checkbox' id='selAll'><\/th>");n.find("tfoot tr").prepend("<th>Select All<\/th>");n.find("tbody tr").prepend("<td><\/td>");$("th.select-head > input[type='checkbox']").on("change",function(){var n=$("th.select-head > input[type='checkbox']").prop("checked");n?$(this).parents(".data-table").DataTable().rows().select():$(this).parents(".data-table").DataTable().rows().deselect()})}n.DataTable({columnDefs:n.data("dtselect")?[{orderable:!1,className:"select-checkbox",targets:"select-head"}]:"0",select:n.data("dtselect")?{style:"multi",selector:"td:first-child"}:!1,paging:n.data("dtpaging")=="1",pageLength:50,lengthMenu:[[10,20,50,100,200,500,1e3,-1],[10,20,50,100,200,500,1e3,"Vše"]],info:n.data("dtinfo")=="1",filter:n.data("dtfilter")=="1"||n.data("dtcolumnfilter")=="1",ordering:n.data("dtordering")=="1",order:n.data("dtorder")?eval(n.data("dtorder")):[[0,"desc"]],language:{sEmptyTable:"Table contains no data",sInfo:"Showing _START_ to _END_ of total _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of total 0 entries",sInfoFiltered:"(filtered of total _MAX_ entries)",sInfoPostFix:"",sInfoThousands:"",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"In progress...",sSearch:"Search:",sZeroRecords:"No entries was found",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"}},drawCallback:function(){var n=$(this);n.find("thead th").each(function(t){/^(id|hiddenId|hidden__)/.test($(this).text())&&n.find("td:nth-child("+(t+1)+"), th:nth-child("+(t+1)+")").hide()})}});n.data("dtcolumnfilter")=="1"?(n.data("dtfilter")!="1"&&n.parent().find(".dataTables_filter").remove(),n.find("tfoot th").each(function(){var n=$(this).text();n=="Action"||n=="Select All"?$(this).html(""):$(this).html('<input type="text" placeholder="Hledat v &quot;'+n+'&quot;" />')})):n.find("> tfoot").remove();n.css("background-image","initial");n.children("thead").css("visibility","visible");n.children("tbody").css("visibility","visible");n.children("tfoot").css("visibility","visible")},filter:function(){var n=$(this),t=n.parents(".data-table").DataTable(),i=n.parent().prevAll().length;t.column(i).search(this.value).draw()},onSearch:function(){var n="",i=$(this).data("dtselect")=="1"?1:0,r=$(this).DataTable(),t;r.rows({search:"applied",selected:!0}).data().each(function(t,r){r>0&&(n+=",");n+=t[i]});t=$(this).attr("id");$('input[name="'+t+'"]').val(n)},onAction:function(){var t=$(this),n=t.data("confirm"),i,r;if(t.attr("title")!="modal")if(n&&n.length){while(match=/(\{col_(\d)\})/.exec(n))i=match[2],r=t.parents("tr").eq(0).find("td").eq(i).text(),n=n.replace(match[1],r);BootstrapUserInit.confirm(n,BootstrapUserInit.DataTable.doAction,null,this)}else BootstrapUserInit.DataTable.doAction.apply(this,[])},doAction:function(){var n=$(this),t=parseInt(n.parents("tr").find("td:first").text()),i=n.parents("table").eq(0).attr("id");$.ajax({url:"/Persona/Account/GetAntiForgeryToken",type:"GET",success:function(r){n.hasClass("fa-download")&&(window.ignoreUnload=!0);var u=$('<form class="hiddenForm" method="POST" action="'+window.location.href+'"><input type="hidden" name="'+n.data("idparam")+'" value="'+t+'" /><input type="hidden" name="button" value="'+i+"_"+n.data("action")+'" /><\/form>');u.append('<input type="hidden" name="__RequestVerificationToken" value="'+r+'" />');u.appendTo("body").submit()}})}},loadValidators:function(){$.extend($.validator.methods,{auditNumber:function(n){return n.match(/^[0-9]{4} [PA] [0-9]{2,3}$/)}});$.extend($.validator.methods,{auditNumberNoWF:function(n){return n.match(/^[0-9]{4} [BCEFSZ] [0-9]{2,3}$/)}});$.extend($.validator.methods,{auditNumberNonWF:function(n){return n.match(/^[0-9]{4} C [0-9]{2,3}$/)}});$.extend($.validator.methods,{greaterThan:function(n,t,i){return this.optional(t)||+n>+i}});$.extend($.validator.methods,{greaterOrEqual:function(n,t,i){return this.optional(t)||+n>=+i}});$.extend($.validator.methods,{optionSelected:function(n,t,i){return $(t).attr("required")==undefined||+n!=+i}});jQuery.validator.addClassRules("dropdown-select",{optionSelected:-1});mozaicFormValidator=$(".mozaicBootstrapPage form").validate({errorLabelContainer:$("<div>"),ignore:"[readonly]",unhighlight:function(n){$("button[ignoredonvalidation]").addClass("cancel");$(n).removeClass("has-error");$("#"+n.id+"_validator").hide();this.numberOfInvalids()===0&&$("button:not([ignoredonvalidation])").removeClass("looks-disabled")},highlight:function(n){$("button[ignoredonvalidation]").addClass("cancel");$(n).addClass("has-error");$("#"+n.id+"_validator").show();$("button:not([ignoredonvalidation])").addClass("looks-disabled")}});$(".mozaicBootstrapPage from").length&&mozaicFormValidator.form()}};$(function(){var n=$(".mozaicBootstrapPage");if(n.length){BootstrapUserInit.init(n);$(".input-with-datepicker").datetimepicker({datepicker:!0,timepicker:!1,format:"d.m.Y"});$(".input-with-timepicker").datetimepicker({datepicker:!1,timepicker:!0,step:5,format:"H:i:00"});$(".input-with-datetimepicker").datetimepicker({datepicker:!0,timepicker:!0,step:5,format:"d.m.Y H:i:00"});$("input").on("wheel",function(n){n.preventDefault(n)});$("input").off("mousewheel")}});window.jQuery||(message=/^Mozilla\/4\.0.*\bMSIE\b/.test(navigator.userAgent)?"We are sorry, but your Internet explorer version does not support basic function of Javascript, that are necessary for application.":"We are sorry, but your browser version does not support basic function of Javascript, that are necessary for application.",style="body {background: white !important} body > * {display:none !important} div:first-child {display:block !important; margin: 25px; border: 5px solid red; padding: 25px; font-weight: bold}",document.body.innerHTML="<div>"+message+"<\/div><style> "+style+"<\/style>");jQuery(function(n){var t=n("input#currentLocale").val();t==""&&(t="cs");t=="cs"?jQuery.datetimepicker.setLocale("cs"):jQuery.datetimepicker.setLocale("en")});$.countdown.setDefaults($.countdown.regionalOptions.cs),function(n){n.fn.trackInputDone=function(t,i){function r(){n(this).data("inputTrackerPrevValue")!==this.value&&(n(this).trigger("inputDone"),n(this).data("inputTrackerPrevValue",this.value))}if(typeof t=="function"&&(i=t,t=null),i)this.on("inputDone",t,i);this.on("input keypress",function(t){t.type==="keypress"&&t.which===13?(t.preventDefault(),r.call(this)):(clearTimeout(n(this).data("inputTrackerTimeout")),n(this).data("inputTrackerTimeout",setTimeout(r.bind(this),1e3)))}).on("change",r)}}(jQuery);$(document).on("resize",".ui-dialog",function(n,t){setTimeout(function(){t.element.find(".ui-dialog-content").css({width:"auto",height:"calc(100% - 6em)"})},0)});for(defaultDiacriticsRemovalMap=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],diacriticsMap={},i=0;i<defaultDiacriticsRemovalMap.length;i++)for(letters=defaultDiacriticsRemovalMap[i].letters,j=0;j<letters.length;j++)diacriticsMap[letters[j]]=defaultDiacriticsRemovalMap[i].base;